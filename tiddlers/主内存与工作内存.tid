created: 20220630023053226
creator: Lconfident
modified: 20220630023455527
modifier: Lconfident
tags: [[Java 内存模型]]
title: 主内存与工作内存
type: text/vnd.tiddlywiki

处理器上的寄存器的读写的速度比内存快几个数量级，为了解决这种速度矛盾，在它们之间加入了''高速缓存''

加入高速缓存带来了一个新的问题：''缓存一致性''

如果多个缓存共享同一块主内存区域，那么多个缓存的数据可能会不一致，需要一些协议来解决这个问题

''所有的变量''都存储在''主内存''中，每个线程还有自己的工作内存

工作内存存储在高速缓存或者寄存器中，保存了该线程使用的变量的主内存''副本''拷贝

''线程''只能''直接操作''工作内存中的变量，不同线程之间的变量值''传递''需要通过''主内存''来完成